{% extends "base.html" %}
{% block content %}
<div class="row justify-content-center">
  <div class="col-md-8">
    <div class="card">
      <div class="card-body">
        <h5>เพิ่มอาหาร</h5>
        <form method="post">
          <div class="mb-2">
            <textarea class="form-control" name="food_text" required placeholder="เช่น ข้าวผัดกุ้ง 1 จาน"></textarea>
          </div>

          <!-- ตัวเลือกเวลา -->
          <div class="mb-3">
            <label class="form-label d-block">เวลา</label>

            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" name="time_option" id="time_now" value="now" checked>
              <label class="form-check-label" for="time_now">ใช้เวลาปัจจุบัน</label>
            </div>

            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" name="time_option" id="time_custom" value="custom">
              <label class="form-check-label" for="time_custom">เลือกเวลาเอง</label>
            </div>

            <div class="mt-2">
              <input type="datetime-local" class="form-control" name="custom_datetime" id="custom_datetime" disabled>
            </div>
          </div>

          <button class="btn btn-primary" type="submit">บันทึกอาหาร</button>
        </form>
      </div>
    </div>
  </div>
</div>

<!-- toggle ช่อง datetime -->
<script>
document.addEventListener("DOMContentLoaded", function () {
  const timeNow = document.getElementById("time_now");
  const timeCustom = document.getElementById("time_custom");
  const customDatetime = document.getElementById("custom_datetime");

  function toggleDatetime() {
    customDatetime.disabled = !timeCustom.checked;
  }

  timeNow.addEventListener("change", toggleDatetime);
  timeCustom.addEventListener("change", toggleDatetime);
});
</script>
{% endblock %}
